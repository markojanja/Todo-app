(()=>{"use strict";class t{constructor(t){this.name=t,this.todos=[]}addTodo(t){this.todos.push(t)}deleteTodo(t){const e=this.todos.findIndex((e=>e.name===t));this.todos.splice(e,1)}}class e{constructor(){this.projectList=[]}addProjects(e){const o=new t(e);this.projectList.push(o)}deleteProjects(t){const e=this.projectList.findIndex((e=>e.name===t));this.projectList.splice(e,1)}updateProjects(t,e){const o=this.projectList.find((e=>t===e.name));return o.name=e,o}selectProject(t){return this.projectList.find((e=>t===e.name))}}class o{static loadUI(){o.createProjectController(),o.renderProjectList(),o.setActiveProject(),o.UpdateProjectController(),o.toggleFormButtonController()}static projects=new e;static toggleFormButtonController(){document.querySelector(".toggle-form").addEventListener("click",(()=>{document.getElementById("myForm").classList.toggle("show")}))}static createProjectController(){const t=document.getElementById("myForm");t.addEventListener("submit",(e=>{e.preventDefault();const n=document.getElementById("projectName");if(!n.value)return console.log("this is empty");o.projects.addProjects(n.value);const r=o.projects.selectProject(n.value);o.renderProject(r),this.renderProjectList(),t.reset(),t.classList.remove("show")}),!1)}static UpdateProjectController(){document.querySelectorAll(".project-link").forEach((t=>{t.querySelector(".btn-edit").addEventListener("click",(e=>{const n=t.querySelector(".modal");let r=e.target.dataset.value;const s=document.getElementById(`input-${r}`);s.value=r,n.style.display="flex",o.renderProject(o.projects.selectProject(r)),n.addEventListener("submit",(t=>{if(t.preventDefault(),!s.value)return console.log("this is empty");this.projects.updateProjects(r,s.value),this.renderProjectList(),r&&(r=s.value,o.renderProject(o.projects.selectProject(r))),n.reset()}))}))}))}static deleteProjectController(){const t=document.querySelectorAll(".btn-delete"),e=document.querySelector("#project");this.setActiveProject(),t.forEach((t=>{t.addEventListener("click",(t=>{const n=t.target.dataset.value;o.projects.projectList.forEach((t=>{t!==n&&(e.innerHTML="Project Deleted"),this.renderProjectList()})),o.projects.deleteProjects(n),this.renderProjectList()}))}))}static renderProjectList(){const t=document.getElementById("list");t.innerHTML="",o.projects.projectList.map((e=>{t.innerHTML+=`\n      <li class="project-link">\n      <div class="link-container">\n      <h3 class="title">${e.name}</h3>\n      <button class="btn-edit" type="button" data-value="${e.name}"><i class="fa-solid fa-pen" data-value="${e.name}"></i></button>\n      <button class="btn-delete" type="button" data-value="${e.name}"><i class="fa-solid fa-trash"></i></button>\n      </div>\n\n        <form class="modal">\n           <input type="text" class="inputVal" id="input-${e.name}" required>\n          <button class="add-btn" type="submit" id="btn3"><i class="fa-solid fa-check"></i></button>\n         </form>\n      </li>\n      `})),this.UpdateProjectController(),this.deleteProjectController()}static setActiveProject(){document.querySelectorAll(".title").forEach((t=>{t.addEventListener("click",(()=>{const e=t.textContent,n=o.projects.selectProject(e);o.renderProject(n)}),!1)}))}static renderProject(t){const e=document.querySelector("#project");if(e.innerHTML="",e.innerHTML=`<h1 class='pt'>${t.name}</h1>`,e.innerHTML+='\n    <form action="" id="myForm2">\n      <input type="text" name="project" id="taskName2" required>\n      <button type="submit" id="btn">Add task</button>\n    </form>\n    <ul id="taskList"></ul>',o.taskFormHandler(),t.todos.length>0){const e=document.getElementById("taskList");t.todos.map((t=>{e.innerHTML+=`<li>${t}</li>`}))}}static taskFormHandler(){const t=document.getElementById("myForm2"),e=document.getElementById("taskList"),n=document.querySelector(".pt").textContent,r=o.projects.selectProject(n);t.addEventListener("submit",(o=>{o.preventDefault();const n=document.getElementById("taskName2");r.addTodo(n.value),e.innerHTML="",r.todos.map((t=>{e.innerHTML+=`<li>${t}</li>`})),t.reset()}),!1)}}document.addEventListener("DOMContentLoaded",o.loadUI())})();