(()=>{"use strict";class t{constructor(t){this.name=t,this.todos=[]}addTodo(t){this.todos.push(t)}deleteTodo(t){const e=this.todos.findIndex((e=>e.name===t));this.todos.splice(e,1)}}class e{constructor(){this.projectList=[]}addProjects(e){const n=new t(e);this.projectList.push(n)}deleteProjects(t){const e=this.projectList.findIndex((e=>e.name===t));this.projectList.splice(e,1)}updateProjects(t,e){const n=this.projectList.find((e=>t===e.name));return n.name=e,n}selectProject(t){return this.projectList.find((e=>t===e.name))}}class n{static loadUI(){n.createNewProject(),n.renderProjectList(),n.setActiveProject(),n.UpdateProject()}static projects=new e;static createNewProject(){const t=document.getElementById("myForm");t.addEventListener("submit",(e=>{e.preventDefault();const o=document.getElementById("taskName");n.projects.addProjects(o.value),this.renderProjectList(),t.reset()}),!1)}static UpdateProject(){document.querySelectorAll(".project-card").forEach((t=>{const e=t.querySelector(".btn-edit"),n=t.querySelector(".modal");e.addEventListener("click",(t=>{n.style.display="block";const e=t.target.dataset.value;n.addEventListener("submit",(t=>{t.preventDefault();const o=document.querySelector(`#input-${e}`);console.log(o.value),this.projects.updateProjects(e,o.value),this.renderProjectList(),n.reset()}))}))}))}static deleteProject(){const t=document.querySelectorAll(".btn-delete"),e=document.querySelector("#project");this.setActiveProject(),t.forEach((t=>{t.addEventListener("click",(t=>{const o=t.target.dataset.value;n.projects.projectList.forEach((t=>{t!==o&&(e.innerHTML=""),this.renderProjectList()})),n.projects.deleteProjects(o),this.renderProjectList()}))}))}static renderProjectList(){const t=document.getElementById("list");t.innerHTML="",n.projects.projectList.map((e=>{t.innerHTML+=`\n      <div class="project-card">\n      <h3 class="title">${e.name}</h3>\n      <button class="btn-edit" type="button" data-value="${e.name}">Edit</button>\n      <button class="btn-delete" type="button" data-value="${e.name}">delete</button>\n        <form class="modal" style="display: none;">\n           <input type="text" class="inputVal" id="input-${e.name}">\n          <button type="submit" id="btn3">Update</button>\n         </form>\n      </div>\n      `})),this.UpdateProject(),this.deleteProject()}static setActiveProject(){document.querySelectorAll(".title").forEach((t=>{t.addEventListener("click",(()=>{const e=t.textContent,o=n.projects.selectProject(e);n.renderProject(o)}),!1)}))}static renderProject(t){const e=document.querySelector("#project");if(e.innerHTML="",e.innerHTML=`<h1 class= 'pt'>${t.name}</h1>`,e.innerHTML+='\n    <form action="" id="myForm2">\n      <input type="text" name="project" id="taskName2">\n      <button type="submit" id="btn">Add task</button>\n    </form>\n    <div id="taskList"></div>',n.taskFormHandler(),t.todos.length>0){const e=document.getElementById("taskList");t.todos.map((t=>{e.innerHTML+=`<p>${t}</p>`}))}}static taskFormHandler(){const t=document.getElementById("myForm2"),e=document.getElementById("taskList"),o=document.querySelector(".pt").textContent,s=n.projects.selectProject(o);t.addEventListener("submit",(n=>{n.preventDefault();const o=document.getElementById("taskName2");s.addTodo(o.value),e.innerHTML="",s.todos.map((t=>{e.innerHTML+=`<p>${t}</p>`})),t.reset()}),!1)}}document.addEventListener("DOMContentLoaded",n.loadUI())})();